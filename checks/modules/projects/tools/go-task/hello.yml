version: "3"
output: prefixed
tasks:
  check:
    aliases:
      - lint
      - format
      - fmt
    cmds:
      - task: check:_serial
      - task: check:_concurrent
    desc: Run all checks
  check:_concurrent:
    deps: []
    internal: true
  check:_serial:
    cmds: []
    internal: true
  hello:
    cmds:
      - echo Hello World!
    desc: Say hello
  nix-build:*:
    cmds:
      - nix build --show-trace --log-lines 500 .?submodules=1#{{.PACKAGE}}
    desc: Build a package with `nix build`
    label: nix-build:{{.PACKAGE}}
    prefix: nix-build:{{.PACKAGE}}
    vars:
      PACKAGE: '{{index .MATCH 0}}'
